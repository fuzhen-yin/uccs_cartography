<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lab 7: Advanced Interactive Cartography using Large Dataset &amp; 2.5D Hexagon Map</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="website.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Cartography Labs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="lab4.html">Lab 4</a>
</li>
<li>
  <a href="lab5.html">Lab 5</a>
</li>
<li>
  <a href="lab6.html">Lab 6</a>
</li>
<li>
  <a href="lab7.html">Lab 7</a>
</li>
<li>
  <a href="lab8.html">Lab 8</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Lab 7: Advanced Interactive Cartography
using Large Dataset &amp; 2.5D Hexagon Map</h1>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>This lab continues on the digital map-making using more advanced
techniques and interactive features. Similar to previous labs, the
examples are built upon each other with new features have been added in
gradually. When replicate these examples, please compare carefully the
<strong>differences between them</strong>:</p>
<ul>
<li><em>What are the new scripts/functions have been added?</em></li>
<li><em>How they change the outcomes?</em></li>
</ul>
<p>The zip file with Lab 7 materials can be found here: <a
href="https://github.com/fuzhen-yin/uccs_cartography/blob/main/lab_materials/lab7.zip"
class="uri">https://github.com/fuzhen-yin/uccs_cartography/blob/main/lab_materials/lab7.zip</a></p>
<p>(Don’t know how to download the data? Please read: <a
href="https://fuzhen-yin.github.io/uccs_cartography/lab4.html">Lab 4 -
Overview</a>)</p>
<p><br></p>
<div id="data" class="section level3">
<h3>Data</h3>
<p>In this lab, we are going to play with a relatively large dataset, <a
href="https://data.colorado.gov/Environment/Map-of-Tree-Inventory-Denver/hzmx-2dfk">Denver
Tree Inventory Data</a>. The original dataset contains over 330k of
records showing detailed information about every tree in Denver. I have
cleaned the data a little bit to only include trees (~200k) of the top
10 genera: Ash, Crabapple, Elm, Hackberry, Honeylocust, Linden, Maple,
Oak, Pine, and Spruce.</p>
<p>In the Lab7.zip file, you can find two datasets about <a
href="https://data.colorado.gov/Environment/Map-of-Tree-Inventory-Denver/hzmx-2dfk">Denver
Tree Inventory Data</a> in <em>.geojson</em> format:</p>
<ul>
<li><strong>“denver_tree_top_10_genus.geojson”</strong> shows individual
trees of the top 10 genera and is used for <strong>Example
12-14</strong>;</li>
<li><strong>“denver_hexagon_tree_count_top10.geojson”</strong>
aggregates trees into a grid of hexagon and counts the number of trees
of each genus. It is used for <strong>Example 15-17</strong>.</li>
</ul>
<p>Both datasets have been loaded to maps in the
<strong>SCRIPT</strong>. After having uploaded them to Mapbox as
tilesets, there is <strong>NO NEED</strong> to load them to the base map
in Mapbox studio.</p>
</div>
<div id="before-starts" class="section level3">
<h3>Before Starts</h3>
<p>This lab continues to use Mapbox for (1) data hosting; (2) base map
design and use Mapbox GL for (3) digital mapping.</p>
<ul>
<li>Go to Mapbox studio to <strong>create a base map</strong> and style
it.</li>
<li><strong>Upload</strong> the two datasets as tilesets</li>
<li>go to the “Lab 7” folder to create an <strong>empty .html
script</strong> and start to work on the examples.</li>
</ul>
<p>The screenshots below explain how to create a blank
<strong>.html</strong> by changing the suffix of a text document.</p>
<div class="float">
<img src="figs/lab7_f1.png" style="width:70.0%"
alt="Figure 7.1: Creating a blank .html file (1): right-click to create a text document" />
<div class="figcaption">Figure 7.1: Creating a blank .html file (1):
right-click to create a text document</div>
</div>
<div class="float">
<img src="figs/lab7_f2.png" style="width:70.0%"
alt="Figure 7.1: Creating a blank .html file (2): change the suffix from ‘.txt’ to ‘.html’" />
<div class="figcaption">Figure 7.1: Creating a blank .html file (2):
change the suffix from ‘.txt’ to ‘.html’</div>
</div>
<div class="float">
<img src="figs/lab7_f3.png" style="width:70.0%"
alt="Figure 7.1: Creating a blank .html file (3): Yes!" />
<div class="figcaption">Figure 7.1: Creating a blank .html file (3):
Yes!</div>
</div>
<div class="bluebox">
<div class="left">
<p><strong>Submission</strong></p>
</div>
<p>From this lab 7, you would need to <strong>publish the required
webpages on GitHub, obtain the publicly accessible urls and submit the
urls using the ‘text entry’ on Canvas</strong>. Remember the process of
publishing the midterm project on GitHub? It’s the same process!
However, the GitHub page tutorial could be find <a
href="https://fuzhen-yin.github.io/uccs_cartography/index.html#Publish_Your_Map_GitHub">here</a>.</p>
<p>In addition to replicate all examples 12-17 using your own base map
&amp; tilesets, please submit the <strong>urls</strong> of the following
webpages:</p>
<ul>
<li><strong>Revise Example 12</strong> by using your own base map (30
pts).</li>
<li><strong>Revise Example 14</strong> by using your own base map, and
changing the color palette &amp; legends for different genera. Move the
positions of title box and legend to the left side. (30 pts).</li>
<li><strong>Revise Example 16</strong> by using your own base map, and
changing the color palette, for the hexagon heat map. Try a different
data scaling rule (other than linear) to color the hexagon. (35
pts)</li>
<li><strong>BONUS! Revise Example 17</strong> by adding a selection
feature (similar to example 16). The selection feature allows user to
toggle the view and see 3D density hexagon maps of different tree
genera. <em><strong>Hint</strong>: some scripts &amp; code structure in
Example 16 could be useful</em>. (5 pts)</li>
</ul>
</div>
</div>
</div>
<div id="point-mapping" class="section level2">
<h2>Point Mapping</h2>
<div id="example-12" class="section level3">
<h3>Example 12</h3>
<p>This is a very basic tree point map.</p>
<pre class="html"><code>
&lt;html&gt;

&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Mapbox Example 12- Denver Tree&lt;/title&gt;

&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;
&lt;link href=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js&quot;&gt;&lt;/script&gt;

&lt;style&gt;
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; };
&lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

&lt;script&gt;

    //Put your mapbox access token here
    mapboxgl.accessToken = &#39;pk.eyJ1IjoianVuemhpbWFnZXIiLCJhIjoiY2s5eHBpdzkzMDVkZjNtcnQybzd6YmlxcyJ9.9porJ3w9YRjSl6X0Mx-WUg&#39;;  

        // Load a new map in the &#39;map&#39; HTML div
        var map = new mapboxgl.Map({
            container: &#39;map&#39;, // container id
            style: &#39;mapbox://styles/junzhimager/cm97e15qe00al01sz884x81p4&#39;, // Put your mapbox style ID here
            center: [-104.951046, 39.732470], // starting position [lng, lat]
            zoom: 12 // starting zoom
        });

        // When loading the map
        map.on(&#39;load&#39;, function() {

            // Add a TREE POINT layer to the map 
            map.addLayer({
                &#39;id&#39;:&#39;denver_tree_point&#39;,
                &#39;type&#39;:&#39;circle&#39;,
                &#39;source&#39;:{
                    type:&#39;vector&#39;,
                    url:&#39;mapbox://junzhimager.bh6jbmgj&#39; // After &quot;mapbox://&quot; paste your Mapbox tileset ID
                },
                &#39;source-layer&#39;:&#39;denver_tree_top_10_genus-48xeds&#39;, // name of tilesets
                &#39;layout&#39;:{
                    &#39;visibility&#39;: &#39;visible&#39;
                },
                &#39;paint&#39;: {
                    &#39;circle-color&#39;:&#39;#86b049&#39;,
                    &#39;circle-opacity&#39;:1,
                    &#39;circle-stroke-width&#39;:0.5,
                    &#39;circle-stroke-color&#39;:&#39;white&#39;,          //points on the graph
                    &#39;circle-stroke-opacity&#39;:0.5,
                    &#39;circle-radius&#39;:2
                }
            });
            

        })

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
     </code></pre>
<p>When you double click on the html file you have created, it should
open in your <strong>default web browser</strong> software, and show a
map as the image below.</p>
<p><img src="figs/lab7_mbx_e12.png" style="width:100.0%"
alt="Figure 7.2: Screenshots of Mapbox Example 12" /> <br></p>
</div>
<div id="example-13" class="section level3">
<h3>Example 13</h3>
<p>Color the tree points based on their genus.</p>
<pre class="html"><code>
&lt;html&gt;

&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Mapbox Example 13 - Colorful Denver Tree&lt;/title&gt;

&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;
&lt;link href=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js&quot;&gt;&lt;/script&gt;

&lt;style&gt;
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; };
&lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

&lt;script&gt;

    //Put your mapbox access token here
    mapboxgl.accessToken = &#39;pk.eyJ1IjoianVuemhpbWFnZXIiLCJhIjoiY2s5eHBpdzkzMDVkZjNtcnQybzd6YmlxcyJ9.9porJ3w9YRjSl6X0Mx-WUg&#39;;  

        // Load a new map in the &#39;map&#39; HTML div
        var map = new mapboxgl.Map({
            container: &#39;map&#39;, // container id
            style: &#39;mapbox://styles/junzhimager/cm97e15qe00al01sz884x81p4&#39;, // Put your mapbox style ID here
            center: [-104.951046, 39.732470], // starting position [lng, lat]
            zoom: 12 // starting zoom
        });

        // When loading the map
        map.on(&#39;load&#39;, function() {

            // Add a TREE POINT layer to the map 
            map.addLayer({
                &#39;id&#39;:&#39;denver_tree_point&#39;,
                &#39;type&#39;:&#39;circle&#39;,
                &#39;source&#39;:{
                    type:&#39;vector&#39;,
                    url:&#39;mapbox://junzhimager.bh6jbmgj&#39; // After &quot;mapbox://&quot; paste your Mapbox tileset ID
                },
                &#39;source-layer&#39;:&#39;denver_tree_top_10_genus-48xeds&#39;, // name of tilesets
                &#39;layout&#39;:{
                    &#39;visibility&#39;: &#39;visible&#39;
                },
                &#39;paint&#39;: {
                    // color circle by tree genus
                    &#39;circle-color&#39;:[
                        &#39;match&#39;,
                        [&#39;get&#39;, &#39;genus&#39;],
                        &#39;Linden&#39;,&#39;#a6cee3&#39;,
                        &#39;Maple&#39;,&#39;#1f78b4&#39;,
                        &#39;Honeylocust&#39;,&#39;#b2df8a&#39;,
                        &#39;Crabapple&#39;,&#39;#33a02c&#39;,
                        &#39;Oak&#39;,&#39;#fb9a99&#39;,
                        &#39;Elm&#39;,&#39;#e31a1c&#39;,
                        &#39;Pine&#39;,&#39;#fdbf6f&#39;,
                        &#39;Ash&#39;,&#39;#ff7f00&#39;,
                        &#39;Hackberry&#39;,&#39;#cab2d6&#39;,
                        &#39;Spruce&#39;,&#39;#6a3d9a&#39;,
                        &#39;#ffff99&#39;, // default color 
                    ],
                    &#39;circle-opacity&#39;:1,
                    &#39;circle-stroke-width&#39;:0.5,
                    &#39;circle-stroke-color&#39;:&#39;white&#39;,          //points on the graph
                    &#39;circle-stroke-opacity&#39;:0.5,

                    // Make circles larger as the user zooms from z12 to z22.
                    &#39;circle-radius&#39;:{
                        &#39;base&#39;:1.75,
                        &#39;stops&#39;: [
                            [12, 2],
                            [22, 150]
                        ]
                    }
                }
            });
            

        })

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
     </code></pre>
<p>When you double click on the html file you have created, it should
open in your <strong>default web browser</strong> software, and show a
map as the image below.</p>
<p><img src="figs/lab7_mbx_e13.png" style="width:100.0%"
alt="Figure 7.3: Screenshots of Mapbox Example 13" /> <br></p>
</div>
<div id="example-14" class="section level3">
<h3>Example 14</h3>
<p>Adding a title box and legend to make the map easy to understand.</p>
<pre class="html"><code>
&lt;html&gt;

&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Mapbox Example 14 - Legend&lt;/title&gt;

&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;
&lt;link href=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js&quot;&gt;&lt;/script&gt;

&lt;style&gt;

    /*  Legend Style Sheet  */
    .legend {
        background-color: #fff;
        border-radius: 3px;
        bottom: 30px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        font:
            12px/20px &#39;Helvetica Neue&#39;,
            Arial,
            Helvetica,
            sans-serif;
        padding: 10px;
        position: absolute;
        right: 10px;
        z-index: 1;
    }
    .legend h4 {
        margin: 0 0 10px;
    }

    .legend div span {
        border-radius: 50%;
        display: inline-block;
        height: 10px;
        margin-right: 5px;
        width: 10px;
    }

    /* Map overlay style sheet  */

    .map-overlay {
    font: 12px/20px &#39;Helvetica Neue&#39;, Arial, Helvetica, sans-serif;
    position: absolute;
    width: 380px;
    min-width: 380px;
    top: 0;
    right: 0;
    padding: 10px;
    }
    .map-overlay .map-overlay-inner {
        background-color: #fff;
        box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
        border-radius: 3px;
        padding: 10px;
        margin-bottom: 10px;
    }
    .map-overlay h2 {
        line-height: 24px;
        display: block;
        margin: 0 0 10px;
    }
    .map-overlay p.credit {
       margin: 0;
       padding: 0;
    }

    /*  Body &amp; Map Style Sheet  */
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; };

&lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

&lt;div class=&#39;map-overlay&#39;&gt; 
    &lt;div class=&#39;map-overlay-inner&#39;&gt;
        &lt;h2&gt; Denver Tree Inventory&lt;/h2&gt;
        &lt;p class=&quot;credit&quot;&gt; This map visualizes the top 10 tree genera in Denver including Maple, Honeylocust, Crabapple, Oak, Elm, Pine, Ash, Hackberry and Spruce. It is created using the &lt;a href=&quot;https://data.colorado.gov/Environment/Map-of-Tree-Inventory-Denver/hzmx-2dfk&quot;&gt; Denver Tree Inventory data &lt;/a&gt;. &lt;/p&gt;
        
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;treecolor-legend&quot; class=&quot;legend&quot; style=&quot;display: none&quot;&gt;
    &lt;h4&gt;Tree Genus&lt;/h4&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #1f78b4&quot;&gt;&lt;/span&gt;Maple&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #b2df8a&quot;&gt;&lt;/span&gt;Honeylocust&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #33a02c&quot;&gt;&lt;/span&gt;Crabapple&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #fb9a99&quot;&gt;&lt;/span&gt;Oak&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #e31a1c&quot;&gt;&lt;/span&gt;Elm&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #fdbf6f&quot;&gt;&lt;/span&gt;Pine&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #ff7f00&quot;&gt;&lt;/span&gt;Ash&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #cab2d6&quot;&gt;&lt;/span&gt;Hackberry&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #6a3d9a&quot;&gt;&lt;/span&gt;Spruce&lt;/div&gt;
    &lt;div&gt;&lt;span style=&quot;background-color: #ffff99&quot;&gt;&lt;/span&gt;Others&lt;/div&gt;
&lt;/div&gt;

&lt;script&gt;

    //Put your mapbox access token here
    mapboxgl.accessToken = &#39;pk.eyJ1IjoianVuemhpbWFnZXIiLCJhIjoiY2s5eHBpdzkzMDVkZjNtcnQybzd6YmlxcyJ9.9porJ3w9YRjSl6X0Mx-WUg&#39;;  

        // Load a new map in the &#39;map&#39; HTML div
        var map = new mapboxgl.Map({
            container: &#39;map&#39;, // container id
            style: &#39;mapbox://styles/junzhimager/cm97e15qe00al01sz884x81p4&#39;, // Put your mapbox style ID here
            center: [-104.951046, 39.732470], // starting position [lng, lat]
            zoom: 12 // starting zoom
        });

        // When loading the map
        map.on(&#39;load&#39;, function() {

            // Add a TREE POINT layer to the map 
            map.addLayer({
                &#39;id&#39;:&#39;denver_tree_point&#39;,
                &#39;type&#39;:&#39;circle&#39;,
                &#39;source&#39;:{
                    type:&#39;vector&#39;,
                    url:&#39;mapbox://junzhimager.bh6jbmgj&#39; // After &quot;mapbox://&quot; paste your Mapbox tileset ID
                },
                &#39;source-layer&#39;:&#39;denver_tree_top_10_genus-48xeds&#39;, // name of tilesets
                &#39;layout&#39;:{
                    &#39;visibility&#39;: &#39;visible&#39;
                },
                &#39;paint&#39;: {
                    // color circle by tree genus
                    &#39;circle-color&#39;:[
                        &#39;match&#39;,
                        [&#39;get&#39;, &#39;genus&#39;],
                        &#39;Linden&#39;,&#39;#a6cee3&#39;,
                        &#39;Maple&#39;,&#39;#1f78b4&#39;,
                        &#39;Honeylocust&#39;,&#39;#b2df8a&#39;,
                        &#39;Crabapple&#39;,&#39;#33a02c&#39;,
                        &#39;Oak&#39;,&#39;#fb9a99&#39;,
                        &#39;Elm&#39;,&#39;#e31a1c&#39;,
                        &#39;Pine&#39;,&#39;#fdbf6f&#39;,
                        &#39;Ash&#39;,&#39;#ff7f00&#39;,
                        &#39;Hackberry&#39;,&#39;#cab2d6&#39;,
                        &#39;Spruce&#39;,&#39;#6a3d9a&#39;,
                        &#39;#ffff99&#39;, // default color 
                    ],
                    &#39;circle-opacity&#39;:1,
                    &#39;circle-stroke-width&#39;:0.5,
                    &#39;circle-stroke-color&#39;:&#39;white&#39;,          //points on the graph
                    &#39;circle-stroke-opacity&#39;:0.5,

                    // Make circles larger as the user zooms from z12 to z22.
                    &#39;circle-radius&#39;:{
                        &#39;base&#39;:1.75,
                        &#39;stops&#39;: [
                            [12, 2],
                            [22, 150]
                        ]
                    }
                }
            });
            
            // add legend 
            const TreeColorLegend = document.getElementById(&#39;treecolor-legend&#39;);
            TreeColorLegend.style.display = &#39;block&#39;;

        })

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
     </code></pre>
<p>When you double click on the html file you have created, it should
open in your <strong>default web browser</strong> software, and show a
map as the image below.</p>
<p><img src="figs/lab7_mbx_e14.png" style="width:100.0%"
alt="Figure 7.4: Screenshots of Mapbox Example 14" /> <br></p>
</div>
</div>
<div id="hexagon-tree-density" class="section level2">
<h2>Hexagon Tree Density</h2>
<div id="example-15" class="section level3">
<h3>Example 15</h3>
<p>Now, let’s use the tree hexagon dataset for mapping.</p>
<pre class="html"><code>
&lt;html&gt;

&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Mapbox Example 15 - Hex &lt;/title&gt;

&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;
&lt;link href=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js&quot;&gt;&lt;/script&gt;

&lt;style&gt;

    /*  Legend Style Sheet  */
    .legend {
        background-color: #fff;
        border-radius: 3px;
        bottom: 30px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        font:
            12px/20px &#39;Helvetica Neue&#39;,
            Arial,
            Helvetica,
            sans-serif;
        padding: 10px;
        position: absolute;
        right: 10px;
        z-index: 1;
    }
    .legend h4 {
        margin: 0 0 10px;
    }

    .legend div span {
        border-radius: 50%;
        display: inline-block;
        height: 10px;
        margin-right: 5px;
        width: 10px;
    }

    /* Map overlay style sheet  */

    .map-overlay {
    font: 12px/20px &#39;Helvetica Neue&#39;, Arial, Helvetica, sans-serif;
    position: absolute;
    width: 380px;
    min-width: 380px;
    top: 0;
    right: 0;
    padding: 10px;
    }
    .map-overlay .map-overlay-inner {
        background-color: #fff;
        box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
        border-radius: 3px;
        padding: 10px;
        margin-bottom: 10px;
    }
    .map-overlay h2 {
        line-height: 24px;
        display: block;
        margin: 0 0 10px;
    }
    .map-overlay p.credit {
       margin: 0;
       padding: 0;
    }

    /*  Body &amp; Map Style Sheet  */
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; };

&lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

&lt;div class=&#39;map-overlay&#39;&gt; 
    &lt;div class=&#39;map-overlay-inner&#39;&gt;
        &lt;h2&gt; Denver Tree Hexagon &lt;/h2&gt;
        &lt;p class=&quot;credit&quot;&gt; This map uses hexagons to visualize the tree data. It is created using the &lt;a href=&quot;https://data.colorado.gov/Environment/Map-of-Tree-Inventory-Denver/hzmx-2dfk&quot;&gt; Denver Tree Inventory data &lt;/a&gt;. &lt;/p&gt;
        
    &lt;/div&gt;
&lt;/div&gt;


&lt;script&gt;

    //Put your mapbox access token here
    mapboxgl.accessToken = &#39;pk.eyJ1IjoianVuemhpbWFnZXIiLCJhIjoiY2s5eHBpdzkzMDVkZjNtcnQybzd6YmlxcyJ9.9porJ3w9YRjSl6X0Mx-WUg&#39;;  

        // Load a new map in the &#39;map&#39; HTML div
        var map = new mapboxgl.Map({
            container: &#39;map&#39;, // container id
            style: &#39;mapbox://styles/junzhimager/cm97e15qe00al01sz884x81p4&#39;, // Put your mapbox style ID here
            center: [-104.951046, 39.732470], // starting position [lng, lat]
            zoom: 11 // starting zoom
        });

        // When loading the map
        map.on(&#39;load&#39;, function() {

            // Add a TREE HEXAGON layer to the map 
            map.addLayer({
                &#39;id&#39;:&#39;denver_tree_point&#39;,
                &#39;type&#39;:&#39;fill&#39;,
                &#39;source&#39;:{
                    type:&#39;vector&#39;,
                    url:&#39;mapbox://junzhimager.cnyhw4p3&#39; // After &quot;mapbox://&quot; paste your Mapbox tileset ID
                },
                &#39;source-layer&#39;:&#39;denver_hexagon_tree_count_top-5j28n7&#39;, // name of tilesets
                &#39;layout&#39;:{
                    &#39;visibility&#39;: &#39;visible&#39;
                },
                &#39;paint&#39;: {
                    // color circle by tree genus
                    &#39;fill-color&#39;:[
                        &#39;interpolate&#39;,
                        [&#39;linear&#39;],
                        [&#39;get&#39;, &#39;n_all&#39;],
                        0, &quot;white&quot;,
                        725, &#39;#023D54&#39;
                    ],
                    &#39;fill-opacity&#39;:0.7,
                    &#39;fill-outline-color&#39;: &#39;grey&#39;
                }
            });
            
            // add legend 
            const TreeColorLegend = document.getElementById(&#39;treecolor-legend&#39;);
            TreeColorLegend.style.display = &#39;block&#39;;

        })

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
     </code></pre>
<p>When you double click on the html file you have created, it should
open in your <strong>default web browser</strong> software, and show a
map as the image below.</p>
<p><img src="figs/lab7_mbx_e15.png" style="width:100.0%"
alt="Figure 7.5: Screenshots of Mapbox Example 15" /> <br></p>
</div>
<div id="example-16" class="section level3">
<h3>Example 16</h3>
<p>Adding a selection feature where users can toggle the map of
different tree genera.</p>
<pre class="html"><code>
&lt;html&gt;

&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Mapbox Example 16 - Select Layer &lt;/title&gt;

&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;
&lt;link href=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js&quot;&gt;&lt;/script&gt;

&lt;style&gt;

    /*  Legend Style Sheet  */
    .legend {
        background-color: #fff;
        border-radius: 3px;
        bottom: 30px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        font:
            12px/20px &#39;Helvetica Neue&#39;,
            Arial,
            Helvetica,
            sans-serif;
        padding: 10px;
        position: absolute;
        right: 10px;
        z-index: 1;
    }
    .legend h4 {
        margin: 0 0 10px;
    }

    .legend div span {
        border-radius: 50%;
        display: inline-block;
        height: 10px;
        margin-right: 5px;
        width: 10px;
    }

    /* Map overlay style sheet  */

    .map-overlay {
    font: 12px/20px &#39;Helvetica Neue&#39;, Arial, Helvetica, sans-serif;
    position: absolute;
    width: 380px;
    min-width: 380px;
    top: 0;
    right: 0;
    padding: 10px;
    }
    .map-overlay .map-overlay-inner {
        background-color: #fff;
        box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
        border-radius: 3px;
        padding: 10px;
        margin-bottom: 10px;
    }
    .map-overlay h2 {
        line-height: 24px;
        display: block;
        margin: 0 0 10px;
    }
    .map-overlay p.credit {
       margin: 0;
       padding: 0;
    }

    /*  Body &amp; Map Style Sheet  */
    .map-overlay-inner fieldset {
        border: none;
        padding: 0;
        margin: 0 0 10px;
    }

    /*  Body &amp; Map Style Sheet  */
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; };

&lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

&lt;div class=&#39;map-overlay&#39;&gt; 
    &lt;div class=&#39;map-overlay-inner&#39;&gt;
        &lt;h2&gt; Denver Tree Hexagon &lt;/h2&gt;
        
        &lt;fieldset&gt;
            &lt;label&gt;Select layer&lt;/label&gt;
            &lt;select id=&quot;data_layer&quot; name=&quot;layer&quot;&gt;
                &lt;!-- Each value matches a layer ID. --&gt;
                &lt;option value=&quot;0&quot;&gt;All Genera&lt;/option&gt;            
                &lt;option value=&quot;1&quot;&gt;Ash&lt;/option&gt;
                &lt;option value=&quot;2&quot;&gt;Crabapple&lt;/option&gt;
                &lt;option value=&quot;3&quot;&gt;Elm&lt;/option&gt;
                &lt;option value=&quot;4&quot;&gt;Hackberry&lt;/option&gt;
                &lt;option value=&quot;5&quot;&gt;Honeylocust&lt;/option&gt;
                &lt;option value=&quot;6&quot;&gt;Linden&lt;/option&gt;
                &lt;option value=&quot;7&quot;&gt;Maple&lt;/option&gt;
                &lt;option value=&quot;8&quot;&gt;Oak&lt;/option&gt;
                &lt;option value=&quot;9&quot;&gt;Pine&lt;/option&gt;
                &lt;option value=&quot;10&quot;&gt;Spruce&lt;/option&gt;
            &lt;/select&gt;
        &lt;/fieldset&gt;

        &lt;p class=&quot;credit&quot;&gt; This map uses hexagons to visualize the tree data. It is created using the &lt;a href=&quot;https://data.colorado.gov/Environment/Map-of-Tree-Inventory-Denver/hzmx-2dfk&quot;&gt; Denver Tree Inventory data &lt;/a&gt;. &lt;/p&gt;

    &lt;/div&gt;
&lt;/div&gt;


&lt;script&gt;

    //Put your mapbox access token here
    mapboxgl.accessToken = &#39;pk.eyJ1IjoianVuemhpbWFnZXIiLCJhIjoiY2s5eHBpdzkzMDVkZjNtcnQybzd6YmlxcyJ9.9porJ3w9YRjSl6X0Mx-WUg&#39;;  

        // Load a new map in the &#39;map&#39; HTML div
        var map = new mapboxgl.Map({
            container: &#39;map&#39;, // container id
            style: &#39;mapbox://styles/junzhimager/cm97e15qe00al01sz884x81p4&#39;, // Put your mapbox style ID here
            center: [-104.951046, 39.732470], // starting position [lng, lat]
            zoom: 11 // starting zoom
        });

        // When loading the map
        map.on(&#39;load&#39;, function() {

            // Add a TREE HEXAGON layer to the map 
            map.addLayer({
                &#39;id&#39;:&#39;denver_tree_point&#39;,
                &#39;type&#39;:&#39;fill&#39;,
                &#39;source&#39;:{
                    type:&#39;vector&#39;,
                    url:&#39;mapbox://junzhimager.cnyhw4p3&#39; // After &quot;mapbox://&quot; paste your Mapbox tileset ID
                },
                &#39;source-layer&#39;:&#39;denver_hexagon_tree_count_top-5j28n7&#39;, // name of tilesets
                &#39;layout&#39;:{
                    &#39;visibility&#39;: &#39;visible&#39;
                },
                &#39;paint&#39;: {
                    // color circle by tree genus
                    &#39;fill-color&#39;:[
                        &#39;interpolate&#39;,
                        [&#39;linear&#39;],
                        [&#39;get&#39;, &#39;n_all&#39;],
                        0, &quot;white&quot;,
                        720, &#39;#081D58&#39;,

                    ],
                    &#39;fill-opacity&#39;:0.7,
                    &#39;fill-outline-color&#39;: &#39;grey&#39;
                }
            });

        })

        // Add an event listener to monitor the selection of tree species 

        var lt_genus = [
            &quot;n_all&quot;, 
            &quot;n_Ash&quot;, &quot;n_Crabapple&quot;, 
            &quot;n_Elm&quot;, &quot;n_Hackberry&quot;, 
            &quot;n_Honeylocust&quot;, &quot;n_Linden&quot;, 
            &quot;n_Maple&quot;, &quot;n_Oak&quot;,
            &quot;n_Pine&quot;, &quot;n_Spruce&quot;
        ]

        var lt_g_max_range = [
            725, // max value range for &quot;n_all&quot;
            199, // max value range for &quot;n_Ash&quot;
            102, // max value range for &quot;n_Crabapple&quot;
            108, // max value range for &quot;n_Elm&quot;
            48, // max value range for &quot;n_Hackberry&quot;
            182, // max value range for &quot;n_Honeylocust&quot;
            140, // max value range for &quot;n_Linden&quot;
            171, // max value range for &quot;n_Maple&quot;
            170, // max value range for &quot;n_Oak&quot;
            254, // max value range for &quot;n_Pine&quot;
            94, // max value range for &quot;n_Spruce&quot;
        ]

        document.getElementById(&#39;data_layer&#39;).addEventListener(&#39;change&#39;, function(e){

            var genus_selected = lt_genus[e.target.value]
            var genus_s_max = lt_g_max_range[e.target.value]

            map.setPaintProperty(&quot;denver_tree_point&quot;, &#39;fill-color&#39;, [
                        &#39;interpolate&#39;,
                        [&#39;linear&#39;],
                        [&#39;get&#39;, genus_selected],
                        0, &quot;white&quot;,
                        genus_s_max, &#39;#081D58&#39;,
                    ]);
        })


&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
     </code></pre>
<p>When you double click on the html file you have created, it should
open in your <strong>default web browser</strong> software, and show a
map as the image below.</p>
<p><img src="figs/lab7_mbx_e16.png" style="width:100.0%"
alt="Figure 7.6: Screenshots of Mapbox Example 15" /> <br></p>
</div>
</div>
<div id="d-tree-density" class="section level2">
<h2>2.5D Tree Density</h2>
<div id="example-17" class="section level3">
<h3>Example 17</h3>
<p>Use mapbox’s fill-extrusion feature to a create 2.5D map.</p>
<pre class="html"><code>
&lt;html&gt;

&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Mapbox Example 17 - 2.5D Tree Hex &lt;/title&gt;

&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;
&lt;link href=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src=&quot;https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js&quot;&gt;&lt;/script&gt;

&lt;style&gt;

    /*  Legend Style Sheet  */
    .legend {
        background-color: #fff;
        border-radius: 3px;
        bottom: 30px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        font:
            12px/20px &#39;Helvetica Neue&#39;,
            Arial,
            Helvetica,
            sans-serif;
        padding: 10px;
        position: absolute;
        right: 10px;
        z-index: 1;
    }
    .legend h4 {
        margin: 0 0 10px;
    }

    .legend div span {
        border-radius: 50%;
        display: inline-block;
        height: 10px;
        margin-right: 5px;
        width: 10px;
    }

    /* Map overlay style sheet  */

    .map-overlay {
    font: 12px/20px &#39;Helvetica Neue&#39;, Arial, Helvetica, sans-serif;
    position: absolute;
    width: 380px;
    min-width: 380px;
    top: 0;
    right: 0;
    padding: 10px;
    }
    .map-overlay .map-overlay-inner {
        background-color: #fff;
        box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
        border-radius: 3px;
        padding: 10px;
        margin-bottom: 10px;
    }
    .map-overlay h2 {
        line-height: 24px;
        display: block;
        margin: 0 0 10px;
    }
    .map-overlay p.credit {
       margin: 0;
       padding: 0;
    }

    /*  Body &amp; Map Style Sheet  */
    .map-overlay-inner fieldset {
        border: none;
        padding: 0;
        margin: 0 0 10px;
    }

    /*  Body &amp; Map Style Sheet  */
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; };

&lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

&lt;div class=&#39;map-overlay&#39;&gt; 
    &lt;div class=&#39;map-overlay-inner&#39;&gt;
        &lt;h2&gt; 2.5D Denver Tree Map &lt;/h2&gt;

        &lt;p class=&quot;credit&quot;&gt; This map uses hexagons to visualize the tree data. It is created using the &lt;a href=&quot;https://data.colorado.gov/Environment/Map-of-Tree-Inventory-Denver/hzmx-2dfk&quot;&gt; Denver Tree Inventory data &lt;/a&gt;. &lt;/p&gt;

        &lt;p class=&quot;credit&quot;&gt; Zoom in to &lt;a href=&quot;#&quot; class=&quot;credit&quot; id=&quot;den_view&quot;&gt;Denver&lt;/a&gt; &lt;/p&gt;

    &lt;/div&gt;
&lt;/div&gt;


&lt;script&gt;

    //Put your mapbox access token here
    mapboxgl.accessToken = &#39;pk.eyJ1IjoianVuemhpbWFnZXIiLCJhIjoiY2s5eHBpdzkzMDVkZjNtcnQybzd6YmlxcyJ9.9porJ3w9YRjSl6X0Mx-WUg&#39;;  

        // Load a new map in the &#39;map&#39; HTML div
        var map = new mapboxgl.Map({
            container: &#39;map&#39;, // container id
            style: &#39;mapbox://styles/junzhimager/cm97e15qe00al01sz884x81p4&#39;, // Put your mapbox style ID here
            center: [-104.951046, 39.732470], // starting position [lng, lat]
            zoom: 11, // starting zoom
            pitch: 50 // tilt of the viewpoint in degrees
        });

        // When loading the map
        map.on(&#39;load&#39;, function() {     
            
            // Set global light properties which influence 3D layer shadows
            map.setLight({color: &quot;#fff&quot;, intensity: 0.15, position: [1, 180, 30]});
            // Add standard navigation control
            map.addControl(new mapboxgl.NavigationControl(), &#39;bottom-right&#39;);   

            // Load the TREE HEXAGON layer in 3D by setting the type to &#39;fill-extrusion&#39; 
            map.addLayer({
                &#39;id&#39;:&#39;denver_tree_point&#39;,
                &#39;type&#39;:&#39;fill-extrusion&#39;,
                &#39;source&#39;:{
                    type:&#39;vector&#39;,
                    url:&#39;mapbox://junzhimager.cnyhw4p3&#39; // After &quot;mapbox://&quot; paste your Mapbox tileset ID
                },
                &#39;source-layer&#39;:&#39;denver_hexagon_tree_count_top-5j28n7&#39;, // name of tilesets
                &#39;layout&#39;:{
                    &#39;visibility&#39;: &#39;visible&#39;
                },
                &#39;paint&#39;: {
                    // color circle by tree genus
                    &#39;fill-extrusion-color&#39;:[
                        &#39;interpolate&#39;,
                        [&#39;linear&#39;],
                        [&#39;get&#39;, &#39;n_all&#39;],
                        0, &quot;white&quot;,
                        720, &#39;#081D58&#39;,

                    ],
                    &#39;fill-extrusion-height&#39;:[&#39;*&#39;, 3, [&#39;get&#39;, &#39;n_all&#39;]],  //set the height to 3 times of the value of n_all
                    &#39;fill-extrusion-opacity&#39;:0.8
                }
            });

        })

        // Add an event listener when users clicking on &quot;zoom in to Denver&quot; 
        document.getElementById(&#39;den_view&#39;).addEventListener(&#39;click&#39;, function(e){

            map.flyTo({
                center:[-104.961046, 39.732470],
                zoom:12,
                speed:0.3,
                pitch:60
            })
        })


&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
     </code></pre>
<p>When you double click on the html file you have created, it should
open in your <strong>default web browser</strong> software, and show a
map as the image below.</p>
<p><img src="figs/lab7_mbx_e17.png" style="width:100.0%"
alt="Figure 7.7: Screenshots of Mapbox Example 15" /> <br></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4,h5",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
